{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/gabrielwolf/Desktop/pro-shop/frontend/src/screens/ProductListScreen.jsx\";\n\nimport React, { useEffect } from 'react';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { useNavigate } from 'react-router-dom';\nimport { Table, Button, Row, Col } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport { listProducts, deleteProduct } from '../actions/productActions';\n\nvar ProductListScreen = function ProductListScreen() {\n  var dispatch = useDispatch();\n  var navigate = useNavigate();\n  var productList = useSelector(function (state) {\n    return state.productList;\n  });\n  var loading = productList.loading,\n      error = productList.error,\n      products = productList.products;\n  var productDelete = useSelector(function (state) {\n    return state.productDelete;\n  });\n  var loadingDelete = productDelete.loading,\n      errorDelete = productDelete.error,\n      successDelete = productDelete.success;\n  var userLogin = useSelector(function (state) {\n    return state.userLogin;\n  });\n  var userInfo = userLogin.userInfo;\n  useEffect(function () {\n    if (userInfo && userInfo.isAdmin) {\n      dispatch(listProducts());\n    } else {\n      navigate(\"/login\");\n    }\n  }, [dispatch, navigate, userInfo, successDelete]);\n\n  var deleteHandler = function deleteHandler(id) {\n    if (window.confirm(\"Are you sure\")) {\n      dispatch(deleteProduct());\n    }\n  };\n\n  var createProductHandler = function createProductHandler() {\n    console.log(\"product created\");\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    className: \"align-items-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, \"Products\")), /*#__PURE__*/React.createElement(Col, {\n    className: \"text-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"my-3\",\n    onClick: createProductHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-plus\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }), \" Create Product\"))), loadingDelete && /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 23\n    }\n  }), errorDelete && /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }, errorDelete), loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 20\n    }\n  }) : error ? /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 40\n    }\n  }, error) : /*#__PURE__*/React.createElement(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    responsive: true,\n    className: \"table-sm\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }\n  }, \"NAME\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  }, \"PRICE\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 25\n    }\n  }, \"CATEGORY\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }\n  }, \"BRAND\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, products.map(function (product) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: product._id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 29\n      }\n    }, product._id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 29\n      }\n    }, product.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 29\n      }\n    }, \"$\", product.price), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 29\n      }\n    }, product.category), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 29\n      }\n    }, product.brand), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(LinkContainer, {\n      to: \"/admin/product/\".concat(product._id, \"/edit\"),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"light\",\n      className: \"btn-sm\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-edit\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(Button, {\n      variant: \"danger\",\n      className: \"btn-sm\",\n      onClick: function onClick() {\n        return deleteHandler(product._id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-trash\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 41\n      }\n    }))));\n  }))));\n};\n\nexport default ProductListScreen;","map":{"version":3,"names":["React","useEffect","LinkContainer","useNavigate","Table","Button","Row","Col","useDispatch","useSelector","Message","Loader","listProducts","deleteProduct","ProductListScreen","dispatch","navigate","productList","state","loading","error","products","productDelete","loadingDelete","errorDelete","successDelete","success","userLogin","userInfo","isAdmin","deleteHandler","id","window","confirm","createProductHandler","console","log","map","product","_id","name","price","category","brand"],"sources":["/Users/gabrielwolf/Desktop/pro-shop/frontend/src/screens/ProductListScreen.jsx"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { useNavigate} from 'react-router-dom'\nimport {Table, Button, Row, Col} from \"react-bootstrap\"\nimport { useDispatch, useSelector } from 'react-redux'\nimport Message from '../components/Message'\nimport Loader from '../components/Loader'\nimport { listProducts, deleteProduct} from '../actions/productActions'\n\nconst ProductListScreen = () => {\n    const dispatch = useDispatch()\n    const navigate = useNavigate()\n\n    const productList = useSelector(state => state.productList)\n    const {loading, error, products} = productList\n\n    const productDelete = useSelector(state => state.productDelete)\n    const {loading:loadingDelete, error:errorDelete, success:successDelete} = productDelete\n\n    const userLogin = useSelector(state => state.userLogin)\n    const {userInfo} = userLogin\n\n    useEffect(() => {\n        if(userInfo && userInfo.isAdmin){\n            dispatch(listProducts())\n        }else{\n            navigate(\"/login\")\n        }\n    }, [dispatch, navigate, userInfo, successDelete])\n\n    const deleteHandler = (id) => {\n        if(window.confirm(\"Are you sure\")){\n           dispatch(deleteProduct())\n        }\n    }\n\n    const createProductHandler = () => {\n        console.log(\"product created\")\n    }\n\n  return (\n    <>  \n    <Row className=\"align-items-center\">\n        <Col>\n            <h1>Products</h1>\n        </Col>\n        <Col className=\"text-right\">\n            <Button className=\"my-3\" onClick={createProductHandler}>\n                <i className=\"fas fa-plus\"></i> Create Product\n            </Button>\n        </Col>\n    </Row>\n    {loadingDelete && <Loader/>}\n    {errorDelete && <Message variant=\"danger\">{errorDelete}</Message>}\n        {loading ? <Loader/> : error ? <Message variant=\"danger\">{error}</Message> : ( \n        <Table striped bordered hover responsive className=\"table-sm\">\n                <thead>\n                    <tr>\n                        <th>ID</th>\n                        <th>NAME</th>\n                        <th>PRICE</th>\n                        <th>CATEGORY</th>\n                        <th>BRAND</th>\n                        <th></th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {products.map(product => (\n                        <tr key={product._id}>\n                            <td>{product._id}</td>\n                            <td>{product.name}</td>\n                            <td>${product.price}</td>\n                            <td>{product.category}</td>\n                            <td>{product.brand}</td>\n                            <td>\n                                <LinkContainer to={`/admin/product/${product._id}/edit`}>\n                                    <Button variant=\"light\" className=\"btn-sm\">\n                                        <i className=\"fas fa-edit\"></i>\n                                    </Button>\n                                </LinkContainer>\n                                <Button \n                                    variant=\"danger\" \n                                    className=\"btn-sm\" \n                                    onClick={() => deleteHandler(product._id)}>\n                                        <i className=\"fas fa-trash\"></i>\n                                    </Button>\n                            </td>\n                        </tr>\n                    ))}\n                </tbody>\n            </Table>)}\n     </>\n)}\n\nexport default ProductListScreen"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,aAAT,QAA8B,wBAA9B;AACA,SAASC,WAAT,QAA2B,kBAA3B;AACA,SAAQC,KAAR,EAAeC,MAAf,EAAuBC,GAAvB,EAA4BC,GAA5B,QAAsC,iBAAtC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,YAAT,EAAuBC,aAAvB,QAA2C,2BAA3C;;AAEA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;EAC5B,IAAMC,QAAQ,GAAGP,WAAW,EAA5B;EACA,IAAMQ,QAAQ,GAAGb,WAAW,EAA5B;EAEA,IAAMc,WAAW,GAAGR,WAAW,CAAC,UAAAS,KAAK;IAAA,OAAIA,KAAK,CAACD,WAAV;EAAA,CAAN,CAA/B;EAJ4B,IAKrBE,OALqB,GAKOF,WALP,CAKrBE,OALqB;EAAA,IAKZC,KALY,GAKOH,WALP,CAKZG,KALY;EAAA,IAKLC,QALK,GAKOJ,WALP,CAKLI,QALK;EAO5B,IAAMC,aAAa,GAAGb,WAAW,CAAC,UAAAS,KAAK;IAAA,OAAIA,KAAK,CAACI,aAAV;EAAA,CAAN,CAAjC;EAP4B,IAQbC,aARa,GAQ8CD,aAR9C,CAQrBH,OARqB;EAAA,IAQQK,WARR,GAQ8CF,aAR9C,CAQEF,KARF;EAAA,IAQ6BK,aAR7B,GAQ8CH,aAR9C,CAQqBI,OARrB;EAU5B,IAAMC,SAAS,GAAGlB,WAAW,CAAC,UAAAS,KAAK;IAAA,OAAIA,KAAK,CAACS,SAAV;EAAA,CAAN,CAA7B;EAV4B,IAWrBC,QAXqB,GAWTD,SAXS,CAWrBC,QAXqB;EAa5B3B,SAAS,CAAC,YAAM;IACZ,IAAG2B,QAAQ,IAAIA,QAAQ,CAACC,OAAxB,EAAgC;MAC5Bd,QAAQ,CAACH,YAAY,EAAb,CAAR;IACH,CAFD,MAEK;MACDI,QAAQ,CAAC,QAAD,CAAR;IACH;EACJ,CANQ,EAMN,CAACD,QAAD,EAAWC,QAAX,EAAqBY,QAArB,EAA+BH,aAA/B,CANM,CAAT;;EAQA,IAAMK,aAAa,GAAG,SAAhBA,aAAgB,CAACC,EAAD,EAAQ;IAC1B,IAAGC,MAAM,CAACC,OAAP,CAAe,cAAf,CAAH,EAAkC;MAC/BlB,QAAQ,CAACF,aAAa,EAAd,CAAR;IACF;EACJ,CAJD;;EAMA,IAAMqB,oBAAoB,GAAG,SAAvBA,oBAAuB,GAAM;IAC/BC,OAAO,CAACC,GAAR,CAAY,iBAAZ;EACH,CAFD;;EAIF,oBACE,uDACA,oBAAC,GAAD;IAAK,SAAS,EAAC,oBAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI,oBAAC,GAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,cADJ,CADJ,eAII,oBAAC,GAAD;IAAK,SAAS,EAAC,YAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI,oBAAC,MAAD;IAAQ,SAAS,EAAC,MAAlB;IAAyB,OAAO,EAAEF,oBAAlC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAG,SAAS,EAAC,aAAb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADJ,oBADJ,CAJJ,CADA,EAWCX,aAAa,iBAAI,oBAAC,MAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAXlB,EAYCC,WAAW,iBAAI,oBAAC,OAAD;IAAS,OAAO,EAAC,QAAjB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAA2BA,WAA3B,CAZhB,EAaKL,OAAO,gBAAG,oBAAC,MAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAH,GAAeC,KAAK,gBAAG,oBAAC,OAAD;IAAS,OAAO,EAAC,QAAjB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAA2BA,KAA3B,CAAH,gBAC5B,oBAAC,KAAD;IAAO,OAAO,MAAd;IAAe,QAAQ,MAAvB;IAAwB,KAAK,MAA7B;IAA8B,UAAU,MAAxC;IAAyC,SAAS,EAAC,UAAnD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,QADJ,eAEI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,UAFJ,eAGI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,WAHJ,eAII;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,cAJJ,eAKI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,WALJ,eAMI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EANJ,CADJ,CADR,eAWQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACKC,QAAQ,CAACgB,GAAT,CAAa,UAAAC,OAAO;IAAA,oBACjB;MAAI,GAAG,EAAEA,OAAO,CAACC,GAAjB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACI;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAAKD,OAAO,CAACC,GAAb,CADJ,eAEI;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAAKD,OAAO,CAACE,IAAb,CAFJ,eAGI;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,QAAMF,OAAO,CAACG,KAAd,CAHJ,eAII;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAAKH,OAAO,CAACI,QAAb,CAJJ,eAKI;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAAKJ,OAAO,CAACK,KAAb,CALJ,eAMI;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACI,oBAAC,aAAD;MAAe,EAAE,2BAAoBL,OAAO,CAACC,GAA5B,UAAjB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACI,oBAAC,MAAD;MAAQ,OAAO,EAAC,OAAhB;MAAwB,SAAS,EAAC,QAAlC;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACI;MAAG,SAAS,EAAC,aAAb;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EADJ,CADJ,CADJ,eAMI,oBAAC,MAAD;MACI,OAAO,EAAC,QADZ;MAEI,SAAS,EAAC,QAFd;MAGI,OAAO,EAAE;QAAA,OAAMT,aAAa,CAACQ,OAAO,CAACC,GAAT,CAAnB;MAAA,CAHb;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBAIQ;MAAG,SAAS,EAAC,cAAb;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAJR,CANJ,CANJ,CADiB;EAAA,CAApB,CADL,CAXR,CAdJ,CADF;AAoDA,CAnFF;;AAqFA,eAAezB,iBAAf"},"metadata":{},"sourceType":"module"}