{"ast":null,"code":"import _slicedToArray from \"/Users/gabrielwolf/Desktop/pro-shop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/gabrielwolf/Desktop/pro-shop/frontend/src/screens/RegisterScreen.jsx\";\n\nimport React, { useEffect } from 'react';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { Form, Button, Row, Col } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport FormContainer from '../components/FormContainer';\nimport { register } from \"../actions/userActions\";\n\nvar RegisterScreen = function RegisterScreen() {\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      email = _React$useState2[0],\n      setEmail = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      password = _React$useState4[0],\n      setPassword = _React$useState4[1];\n\n  var _React$useState5 = React.useState(\"\"),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      name = _React$useState6[0],\n      setName = _React$useState6[1];\n\n  var _React$useState7 = React.useState(\"\"),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      confirmPassword = _React$useState8[0],\n      setConfirmPassword = _React$useState8[1];\n\n  var _React$useState9 = React.useState(null),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      message = _React$useState10[0],\n      setMessage = _React$useState10[1];\n\n  var dispatch = useDispatch();\n  var userRegister = useSelector(function (state) {\n    return state.userRegister;\n  });\n  var loading = userRegister.loading,\n      error = userRegister.error,\n      userInfo = userRegister.userInfo;\n  var location = useLocation();\n  var navigate = useNavigate();\n  var redirect = location.search ? location.search.split(\"=\")[1] : \"/\";\n  useEffect(function () {\n    if (userInfo) {\n      navigate(redirect);\n    }\n  }, [navigate, userInfo, redirect]);\n\n  var submitHandler = function submitHandler(e) {\n    e.preventDefault();\n\n    if (password !== confirmPassword) {\n      setMessage(\"Passwords do not match\");\n    } else {\n      dispatch(register(name, email, password));\n    }\n\n    dispatch(register(name, email, password));\n  };\n\n  return /*#__PURE__*/React.createElement(FormContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \"Sign Up\"), message && /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }, message), error && /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 19\n    }\n  }, error), loading && /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submitHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"name\",\n    placeholder: \"Enter name\",\n    value: name,\n    onChange: function onChange(e) {\n      return setName(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, \"Email Address\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    placeholder: \"Enter email\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Enter password\",\n    value: password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"confirmPassword\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, \"Confirm Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Confirm password\",\n    value: confirmPassword,\n    onChange: function onChange(e) {\n      return setConfirmPassword(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, \"Register\")), /*#__PURE__*/React.createElement(Row, {\n    className: \"py-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, \"Have an Account?\", \" \", /*#__PURE__*/React.createElement(Link, {\n    to: redirect ? \"/login?redirect=\".concat(redirect) : \"/login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, \"Login\"))));\n};\n\nexport default RegisterScreen;","map":{"version":3,"names":["React","useEffect","Link","useNavigate","useLocation","Form","Button","Row","Col","useDispatch","useSelector","Message","Loader","FormContainer","register","RegisterScreen","useState","email","setEmail","password","setPassword","name","setName","confirmPassword","setConfirmPassword","message","setMessage","dispatch","userRegister","state","loading","error","userInfo","location","navigate","redirect","search","split","submitHandler","e","preventDefault","target","value"],"sources":["/Users/gabrielwolf/Desktop/pro-shop/frontend/src/screens/RegisterScreen.jsx"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { Link, useNavigate, useLocation } from 'react-router-dom'\nimport {Form, Button, Row, Col} from \"react-bootstrap\"\nimport { useDispatch, useSelector } from 'react-redux'\nimport Message from '../components/Message'\nimport Loader from '../components/Loader'\nimport FormContainer from '../components/FormContainer'\nimport {register} from \"../actions/userActions\"\n\nconst RegisterScreen = () => {\n    const [email, setEmail] = React.useState(\"\")\n    const [password, setPassword] = React.useState(\"\")\n    const [name, setName] = React.useState(\"\")\n    const [confirmPassword, setConfirmPassword] = React.useState(\"\")\n    const [message, setMessage] = React.useState(null)\n\n    const dispatch = useDispatch()\n\n    const userRegister = useSelector(state => state.userRegister)\n    const { loading, error, userInfo } = userRegister\n\n    const location = useLocation()\n    const navigate = useNavigate()\n\n    const redirect = location.search ? location.search.split(\"=\")[1] : \"/\"\n\n    useEffect(() => {\n        if(userInfo){\n            navigate(redirect)\n        }\n    },[navigate, userInfo, redirect])\n\n    const submitHandler = (e) =>{\n        e.preventDefault()\n        if(password !== confirmPassword){\n            setMessage(\"Passwords do not match\")\n        }else{\n            dispatch(register(name, email, password))\n        }\n        dispatch(register(name, email, password))\n    }\n\n  return (\n    <FormContainer>\n        <h1>Sign Up</h1>\n        {message && <Message variant=\"danger\">{message}</Message>}\n        {error && <Message variant=\"danger\">{error}</Message>}\n        {loading && <Loader/>}\n        <Form onSubmit={submitHandler}>\n            <Form.Group controlId=\"name\">\n                <Form.Label>Name</Form.Label>\n                <Form.Control \n                type=\"name\" \n                placeholder=\"Enter name\" \n                value={name} \n                onChange={(e) => setName(e.target.value)}></Form.Control>\n            </Form.Group>\n            <Form.Group controlId=\"email\">\n                <Form.Label>Email Address</Form.Label>\n                <Form.Control \n                type=\"email\" \n                placeholder=\"Enter email\" \n                value={email} \n                onChange={(e) => setEmail(e.target.value)}></Form.Control>\n            </Form.Group>\n            <Form.Group controlId=\"password\">\n                <Form.Label>Password</Form.Label>\n                <Form.Control \n                type=\"password\" \n                placeholder=\"Enter password\" \n                value={password} \n                onChange={(e) => setPassword(e.target.value)}></Form.Control>\n            </Form.Group>\n            <Form.Group controlId=\"confirmPassword\">\n                <Form.Label>Confirm Password</Form.Label>\n                <Form.Control \n                type=\"password\" \n                placeholder=\"Confirm password\" \n                value={confirmPassword} \n                onChange={(e) => setConfirmPassword(e.target.value)}></Form.Control>\n            </Form.Group>\n\n            <Button type=\"submit\" variant=\"primary\">\n                Register\n            </Button>\n        </Form>\n\n        <Row className=\"py-3\">\n            <Col>\n            Have an Account?{\" \"} \n            <Link to={redirect ? `/login?redirect=${redirect}` : \"/login\"}>\n                Login\n            </Link>\n            </Col>\n        </Row>\n\n    </FormContainer>\n  )\n}\n\nexport default RegisterScreen"],"mappings":"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"},"metadata":{},"sourceType":"module"}