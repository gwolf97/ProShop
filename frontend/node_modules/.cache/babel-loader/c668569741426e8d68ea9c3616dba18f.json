{"ast":null,"code":"import _toConsumableArray from \"/Users/gabrielwolf/Desktop/pro-shop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/gabrielwolf/Desktop/pro-shop/frontend/src/screens/CartScreen.jsx\";\n\nimport React, { useEffect } from 'react';\nimport { Link, useLocation, useParams } from \"react-router-dom\";\nimport { Row, Col, ListGroup, Image, Form, Button, Card } from \"react-bootstrap\";\nimport { addToCart } from '../actions/cartActions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Message from \"../components/Message\";\n\nvar CartScreen = function CartScreen() {\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var _useLocation = useLocation(),\n      search = _useLocation.search;\n\n  var qty = search ? Number(search.split(\"=\")[1]) : 1;\n  var dispatch = useDispatch();\n  var cart = useSelector(function (state) {\n    return state.cart;\n  });\n  var cartItems = cart.cartItems;\n  useEffect(function () {\n    if (id) {\n      dispatch(addToCart(id, qty));\n    }\n  }, [dispatch, id, qty]);\n\n  var removeFromCartHandler = function removeFromCartHandler(id) {\n    console.log(\"remove\");\n  };\n\n  return /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 8,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, \"Shopping Cart\"), cartItems.length === 0 ? /*#__PURE__*/React.createElement(Message, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 39\n    }\n  }, \"Your cart is empty \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 67\n    }\n  }, \"Go Back\")) : /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }, cartItems.map(function (item) {\n    return /*#__PURE__*/React.createElement(ListGroup.Item, {\n      key: item.product,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: item.image,\n      alt: item.name,\n      fluid: true,\n      rounded: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: 3,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/product/\".concat(item.product),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 37\n      }\n    }, item.name)), /*#__PURE__*/React.createElement(Col, {\n      md: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 33\n      }\n    }, \"$\", item.price), /*#__PURE__*/React.createElement(Col, {\n      md: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      value: item.qty,\n      onChange: function onChange(e) {\n        return dispatch(addToCart(item.product, Number(e.target.value)));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 33\n      }\n    }, _toConsumableArray(Array(item.countInStock).keys()).map(function (x) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: x + 1,\n        value: x + 1,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 45\n        }\n      }, x + 1);\n    }))), /*#__PURE__*/React.createElement(Col, {\n      md: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      variant: \"light\",\n      onClick: function onClick() {\n        return removeFromCartHandler(id.product);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-trash\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 41\n      }\n    })))));\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default CartScreen;","map":{"version":3,"names":["React","useEffect","Link","useLocation","useParams","Row","Col","ListGroup","Image","Form","Button","Card","addToCart","useDispatch","useSelector","Message","CartScreen","id","search","qty","Number","split","dispatch","cart","state","cartItems","removeFromCartHandler","console","log","length","map","item","product","image","name","price","e","target","value","Array","countInStock","keys","x"],"sources":["/Users/gabrielwolf/Desktop/pro-shop/frontend/src/screens/CartScreen.jsx"],"sourcesContent":["import React, { useEffect } from 'react'\nimport {Link, useLocation, useParams } from \"react-router-dom\"\nimport {Row, Col, ListGroup, Image, Form, Button, Card} from \"react-bootstrap\"\nimport { addToCart } from '../actions/cartActions'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Message from \"../components/Message\"\n\nconst CartScreen = () => {\n    const {id} = useParams()\n    const {search} = useLocation()\n    const qty = search ? Number(search.split(\"=\")[1]) : 1\n\n    const dispatch = useDispatch()\n\n    const cart = useSelector(state => state.cart)\n    const {cartItems} = cart\n\n    useEffect(()=>{\n        if(id){\n            dispatch(addToCart(id, qty))\n        }\n    },[dispatch, id, qty])\n\n    const removeFromCartHandler = (id) =>{\n        console.log(\"remove\")\n    }\n\n  return (\n    <Row>\n        <Col md={8}>\n            <h1>Shopping Cart</h1>\n            {cartItems.length === 0 ? <Message>Your cart is empty <Link to=\"/\">Go Back</Link></Message> : (\n                <ListGroup variant=\"flush\">\n                    {cartItems.map(item => (\n                        <ListGroup.Item key={item.product}>\n                            <Row>\n                                <Col md={2}>\n                                    <Image src={item.image} alt={item.name} fluid rounded/>\n                                </Col>\n                                <Col md={3}>\n                                    <Link to={`/product/${item.product}`}>{item.name}</Link>\n                                </Col>\n                                <Col md={2}>${item.price}</Col>\n                                <Col md={2}>\n                                <Form.Control as=\"select\" value={item.qty} onChange={(e) => dispatch(addToCart(item.product, Number(e.target.value)))}>\n                                        {[...Array(item.countInStock).keys()].map((x) => (\n                                            <option key={x+1} value ={x + 1}>\n                                                {x + 1}\n                                            </option>\n                                        ))}\n                                    </Form.Control>\n                                </Col>\n                                <Col md={2}>\n                                    <Button type=\"button\" variant=\"light\" onClick={() => removeFromCartHandler(id.product)}>\n                                        <i className='fas fa-trash'></i>\n                                    </Button>\n                                </Col>\n                            </Row>\n                        </ListGroup.Item>\n                    ))}\n                </ListGroup>\n            )}\n\n        </Col>\n        <Col md={4}>\n            \n        </Col>\n    </Row>\n  )\n}\n\nexport default CartScreen"],"mappings":"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"},"metadata":{},"sourceType":"module"}