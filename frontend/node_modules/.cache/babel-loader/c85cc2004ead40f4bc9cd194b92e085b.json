{"ast":null,"code":"import _slicedToArray from \"/Users/gabrielwolf/Desktop/pro-shop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/gabrielwolf/Desktop/pro-shop/frontend/src/screens/UserEditScreen.jsx\";\n\nimport React, { useEffect } from 'react';\nimport { Link, useNavigate, useParams } from 'react-router-dom';\nimport { Form, Button } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport FormContainer from '../components/FormContainer';\nimport { getUserDetails, updateUser } from \"../actions/userActions\";\nimport { USER_UPDATE_RESET } from '../constants/userConstants';\n\nvar UserEditScreen = function UserEditScreen() {\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      email = _React$useState2[0],\n      setEmail = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      name = _React$useState4[0],\n      setName = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      isAdmin = _React$useState6[0],\n      setIsAdmin = _React$useState6[1];\n\n  var dispatch = useDispatch();\n  var navigate = useNavigate();\n  var params = useParams();\n  var userDetails = useSelector(function (state) {\n    return state.userDetails;\n  });\n  var loading = userDetails.loading,\n      error = userDetails.error,\n      user = userDetails.user;\n  var userUpdate = useSelector(function (state) {\n    return state.userUpdate;\n  });\n  var loadingUpdate = userUpdate.loading,\n      errorUpdate = userUpdate.error,\n      successUpdate = userUpdate.success;\n  useEffect(function () {\n    if (successUpdate) {\n      dispatch({\n        type: USER_UPDATE_RESET\n      });\n      navigate(\"/admin/userlist\");\n    } else {\n      setName(user.name);\n      setEmail(user.email);\n      setIsAdmin(user.isAdmin);\n    }\n\n    if (!user.name || user._id !== params.id) {\n      dispatch(getUserDetails(params.id));\n    } else {\n      setName(user.name);\n      setEmail(user.email);\n      setIsAdmin(user.isAdmin);\n    }\n  }, [dispatch, params.id, user, successUpdate]);\n\n  var submitHandler = function submitHandler(e) {\n    e.preventDefault();\n    dispatch(updateUser({\n      _id: params.id,\n      name: name,\n      email: email,\n      isAdmin: isAdmin\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin/userlist\",\n    className: \"btn btn-light my-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, \"Go Back\"), /*#__PURE__*/React.createElement(FormContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, \"Edit User\"), loadingUpdate && /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 27\n    }\n  }), errorUpdate && /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }, errorUpdate), loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 20\n    }\n  }) : error ? /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 40\n    }\n  }, error) : /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submitHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 25\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"name\",\n    placeholder: \"Enter name\",\n    value: name,\n    onChange: function onChange(e) {\n      return setName(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 25\n    }\n  }, \"Email Address\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    placeholder: \"Enter email\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"isadmin\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Check, {\n    type: \"checkbox\",\n    label: \"Is Admin\",\n    checked: isAdmin,\n    onChange: function onChange(e) {\n      return setIsAdmin(e.target.checked);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }, \"Update\"))));\n};\n\nexport default UserEditScreen;","map":{"version":3,"names":["React","useEffect","Link","useNavigate","useParams","Form","Button","useDispatch","useSelector","Message","Loader","FormContainer","getUserDetails","updateUser","USER_UPDATE_RESET","UserEditScreen","useState","email","setEmail","name","setName","isAdmin","setIsAdmin","dispatch","navigate","params","userDetails","state","loading","error","user","userUpdate","loadingUpdate","errorUpdate","successUpdate","success","type","_id","id","submitHandler","e","preventDefault","target","value","checked"],"sources":["/Users/gabrielwolf/Desktop/pro-shop/frontend/src/screens/UserEditScreen.jsx"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { Link, useNavigate, useParams } from 'react-router-dom'\nimport {Form, Button,} from \"react-bootstrap\"\nimport { useDispatch, useSelector } from 'react-redux'\nimport Message from '../components/Message'\nimport Loader from '../components/Loader'\nimport FormContainer from '../components/FormContainer'\nimport {getUserDetails, updateUser} from \"../actions/userActions\"\nimport { USER_UPDATE_RESET } from '../constants/userConstants'\n\nconst UserEditScreen = () => {\n\n    const [email, setEmail] = React.useState(\"\")\n    const [name, setName] = React.useState(\"\")\n    const [isAdmin, setIsAdmin] = React.useState(false)\n\n    const dispatch = useDispatch()\n    const navigate = useNavigate()\n    const params = useParams()\n\n    const userDetails = useSelector(state => state.userDetails)\n    const { loading, error, user } = userDetails\n\n    const userUpdate = useSelector(state => state.userUpdate)\n    const { loading:loadingUpdate, error:errorUpdate, success:successUpdate } = userUpdate\n\n    useEffect(() => {\n        if(successUpdate){\n            dispatch({type: USER_UPDATE_RESET})\n            navigate(\"/admin/userlist\")\n        }else{\n            setName(user.name)\n            setEmail(user.email)\n            setIsAdmin(user.isAdmin)\n        }\n        if(!user.name || user._id !== params.id){\n            dispatch(getUserDetails(params.id))\n        }else{\n            setName(user.name)\n            setEmail(user.email)\n            setIsAdmin(user.isAdmin)\n        }\n    },[dispatch, params.id, user, successUpdate])\n\n    const submitHandler = (e) =>{\n        e.preventDefault()\n        dispatch(updateUser({_id: params.id, name, email, isAdmin}))\n    }\n\n  return (\n    <>\n        <Link to=\"/admin/userlist\" className=\"btn btn-light my-3\">\n            Go Back\n        </Link>\n        <FormContainer>\n        <h1>Edit User</h1>\n        {loadingUpdate && <Loader/>}\n        {errorUpdate && <Message variant=\"danger\">{errorUpdate}</Message>}\n        {loading ? <Loader/> : error ? <Message variant=\"danger\">{error}</Message> : (\n                    <Form onSubmit={submitHandler}>\n                    <Form.Group controlId=\"name\">\n                        <Form.Label>Name</Form.Label>\n                        <Form.Control \n                        type=\"name\" \n                        placeholder=\"Enter name\" \n                        value={name} \n                        onChange={(e) => setName(e.target.value)}></Form.Control>\n                    </Form.Group>\n                    <Form.Group controlId=\"email\">\n                        <Form.Label>Email Address</Form.Label>\n                        <Form.Control \n                        type=\"email\" \n                        placeholder=\"Enter email\" \n                        value={email} \n                        onChange={(e) => setEmail(e.target.value)}></Form.Control>\n                    </Form.Group>\n                    <Form.Group controlId=\"isadmin\">\n                        <Form.Check \n                        type=\"checkbox\" \n                        label=\"Is Admin\"\n                        checked={isAdmin}\n                        onChange={(e) => setIsAdmin(e.target.checked)}></Form.Check>\n                    </Form.Group>\n        \n                    <Button type=\"submit\" variant=\"primary\">\n                        Update\n                    </Button>\n                </Form>\n        )}\n\n    </FormContainer>\n    </>\n  )\n}\n\nexport default UserEditScreen"],"mappings":"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"},"metadata":{},"sourceType":"module"}